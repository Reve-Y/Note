## C++指针小结

#### 1. 声明指针
   要声明指向特定类型的指针，请可使用下面的格式：
   ```
      typeName * pointeName ; 
      double * pd ; 
      char * pc ; //  示例 
   ```
   
#### 2. 给指针赋值
   应用内存地址赋值给指针，可以对变量名应用 & 运算符，来获得被命名的内存的地址。new 运算符返回**未命名**的内存的地址。  
   下面是一些示例。
   ```
      double *pd ;
      int * pi ; 
      char * pc ;
      double d = 20.19;
      pd = &d ;          //  初始化为d的地址，即指向d。
      pc = new char ;    //  使用new运算符初始化，获得未命名的地址。
      pi = new int[10] ; //  指向了这个int型数组的首地址。
   ```
   
#### 3. 对指针解除引用
   对指针解除引用意味着获得指针指向的值。对指针应用解除引用或间接值运算符 * 来解除引用。  
   接着上个例子，下面是接触引用的一些示例。
   ```
      cout<<*pd ;    //  print the value of d 
      *pd = 20.20 ;  //  place 20.20 into the memory location whose address is pd. 在上个例子中，d的值也会因此改变。
   ```
   另一种对指针解除引用的方法是使用数组表示法。例如：pi\[0]与\*pi是一样的。决不要对未初始化为适当地址的指针解除引用。
   
#### 4. 区分指针和指针所指向的值
   如果pi是指向int的指针，则\*pt 不是指向int的指针，而是完全等同于一个int类型的变量。pi才是指针。   
   下面是一个简单的例子：
   ```
      int * pi = new int ;
      *pi = 5;
   ```
   
#### 5. 数组名
   在多数情况下，C++将数组名视为数组的第一个元素的地址。   
   下面是一个示例：
   ```
      int arr[10];   //  now arr is the same as &arr[0]
   ```
   一种例外情况是，将sizeof运算符应用于数组名时，此时将返回整个数组的长度，单位是字节。
   
#### 6. 指针算术
   C++允许将指针和整数相加。加1的结果等于**原来的地址值加上指向的对象占用的总字节数**。还可以将一个指针减去另一个指针，获得两个指针的差。这种运算将得到一个整数，**仅当两个指针指向同一个数组（也可以指向超出结尾的一个位置）时，这种运算才有意义：这将得到两个元素的间隔。**   
   下面是一些示例：
   ```
      int nums[10] = {1,2,3,4,5,6,7,8,9,10};
      int * pt = nums;           // pt指向这个数组的第一个元素
      pt = pt + 1;               // pt指向了nums[1]
      int * pe = &nums[9];       
      pe = pe - 1;               // pe指向了nums[8]
      int diff = pe-pt;          // diff = 7 , 是两元素的间隔
   ```
   
#### 7. 数组的动态联编和静态联编
   使用数组声明来创建数组时，将采用静态联编，即数组的长度在编译时设置：
   ```
      int tacos[10];
   ```
   使用new\[]运算符创建数组时，将采用动态联编（动态数组），即将在运行时为数组分配空间，其长度也将在运行时设置。使用完这种数组后，应使用delete\[]释放其占用的内存。
   ```
      int size;
      cin>>size;
      int * pz = new int[size] ; // dynamic binding 
      ...
      delete [] pz ;  //  不要忘了释放内存
   ```
   
#### 8. 数组表示法和指针表示法
   使用方括号数组表示法等同于对指针解除引用。
   ```
      tacos[0] means *tacos means the value at address tacos 
      tacos[3] means *(tacos + 3) means the value at tacos + 3
   ```
   数组名和指针变量都是如此。因此对于指针和数组名，既可以使用指针表示法也可以使用数组表示法。   
   下面是一些示例：
   ```
      int * pt = new int[10];
      *pt = 5;     // 把这个地址的值设置为 5
      pt[0] = 6;   // 重设为 6 
      int nums[10] ;
      *(nums + 4) = 10 ; //把nums[4]的值设置为10
   ```
   
#### 9. 指针和字符串
   数组和指针的特殊关系可以扩展到C风格字符串。**如果给cout提供一个字符的地址，则它将从该字符开始打印，知道遇到空字符为止**。   
   一个简单的例子：
   ```
      char * pStr = "want sleep";
      cout<<pStr; //  将会打印 "want sleep" 
   ```
   
#### 10. const指针
   ```
      const int * pOne = &a;    //指向整形常量的指针，不能通过指针修改指向的变量的值，但可以指向别的地方
      int * const pTwo = &b;    //指向整形的常量指针 ，它不能在指向别的变量，但指向（变量）的值可以修改。 
      const int *const pThree = &c;  //指向整形常量 的常量指针 。它既不能再指向别的常量，指向的值也不能修改。
   ```
   pOne的声明并不意味着它指向的值实际上就是一个常量，而只是意味着对pOne而言，这个值是常量，你不能通过这个指针来修改它的值。如果a是一个变量，可以直接通过a来修改a的值。
